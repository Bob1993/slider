!function(root,factory){"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?module.exports=factory():"undefined"==typeof jQuery?console.error("Error:","jQuery is needed to run Slider!"):root.Slider=factory(root)}(this,function(root){var Slider=function(selector,config){return new Slider.prototype.init(selector,config)};return Slider.isIE=function(ver){var b=document.createElement("b");return b.innerHTML="<!--[if IE "+ver+"]><i></i><![endif]-->",1===b.getElementsByTagName("i").length},Slider.lockScroll=function(){$("body").css({overflow:"hidden"})},Slider.unlockScroll=function(){$("body").css({overflow:"auto"})},Slider.prototype={init:function(selector,config){var s=this,$slider=s.slider=$(selector);s.length=$slider.find(".slide").length,s.activeIndex=0,s.autoplayIndex=0,s.autoplaySlides,s.translateX=Slider.isIE(8)?!1:!0,s.touchstartX=0,s.config={hasDotNav:!0,hasArrowNav:!0,autoplay:!0,autoplayInterval:4e3,aspectRatio:1.6,animationTime:500,swipeThresholdWidth:.2};for(option in config)s.config[option]=config[option];s.buildDom(),s.autoplay(),$(window).resize(function(){s.setSliderSize(s)}),$slider[0].addEventListener("touchstart",function(e){s.handleTouch(e,s)}),$slider[0].addEventListener("touchmove",function(e){s.handleTouch(e,s)}),$slider[0].addEventListener("touchend",function(e){s.handleTouch(e,s)})},handleTouch:function(e,context){var touches=e.changedTouches,x=touches[0].pageX,s=(touches[0].pageY,context);s.slider;if("touchstart"===e.type&&(s.touchstartX=x),"touchend"===e.type){var dist=x-s.touchstartX;dist>s.width*s.config.swipeThresholdWidth?0===s.activeIndex?s.slideTo(s.activeIndex):s.slideToPrev():dist<-s.width*s.config.swipeThresholdWidth?s.activeIndex===s.length-1?s.slideTo(s.activeIndex):s.slideToNext():s.slideTo(s.activeIndex),s.touchstartX=0}if("touchmove"===e.type)for(var i=0;i<s.length;i++){var left=(i-s.activeIndex)*s.width+(x-s.touchstartX);s.setSlidePosition(i,left,!1)}},buildDom:function(){var s=this,$slider=s.slider;if($slider.addClass("slider-wrap").append("<div class='slides'></div>").find(".slides").append($slider.find(".slide")).find(".slides .slide").eq(s.activeIndex).addClass("active"),s.setSliderSize(s),s.config.hasDotNav){$slider.append("<nav class='dot-nav'><ul></ul></nav>"),$dotNav=s.dotNav=$slider.find(".dot-nav");for(var i=0;i<s.length;i++)$dotNav.find("ul").append("<li><a href='#'></a></li>");$dotNav.on("click","li a",function(){var index=$(this).parent().index();return s.slideTo(index),clearInterval(s.autoplaySlides),!1}),$dotNav.find("li").eq(s.activeIndex).addClass("active")}s.config.hasArrowNav&&$slider.append("<nav class='arrow-nav'><ul><li class='slider-nav-prev'></li><li class='slider-nav-next'></li></ul></nav>").on("click",".slider-nav-next",function(){s.slideToNext(),clearInterval(s.autoplaySlides)}).on("click",".slider-nav-prev",function(){s.slideToPrev(),clearInterval(s.autoplaySlides)})},setSliderSize:function(context){var s=context,$slider=s.slider;s.width=$slider.width(),s.height=s.width/s.config.aspectRatio;for(var i=0;i<s.length;i++){var left=i*s.width;s.translateX?$slider.find(".slides .slide").eq(i).css({transform:"translateX("+left+"px)"}):$slider.find(".slides .slide").eq(i).css({left:left})}$slider.find(".slides .slide,.slides").width(s.width).height(s.height)},autoplay:function(){var s=this;s.config.autoplay&&(s.autoplaySlides=setInterval(function(){s.slideTo(s.autoplayIndex),s.autoplayIndex===s.length-1?s.autoplayIndex=0:s.autoplayIndex++},s.config.autoplayInterval))},setSlidePosition:function(index,left,isAnimated){var transition,s=this,$slider=s.slider;transition=isAnimated===!0?"all "+s.config.animationTime+"ms":"all 0ms",s.translateX?$slider.find(".slides .slide").eq(index).css({transform:"translateX("+left+"px)",transition:transition}):$slider.find(".slides .slide").eq(index).css({left:left,transition:transition})},slideTo:function(index){var s=this,$slider=s.slider;index>s.length-1?index=0:0>index&&(index=s.length-1);for(var i=0;i<s.length;i++){var left=(i-index)*s.width;s.setSlidePosition(i,left,!0)}s.activeIndex=index,$slider.find(".slides .slide").removeClass("active").eq(index).addClass("active"),s.config.hasDotNav&&$slider.find(".dot-nav li").removeClass("active").eq(index).addClass("active")},slideToNext:function(){var s=this;s.slideTo(s.activeIndex+1)},slideToPrev:function(){var s=this;s.slideTo(s.activeIndex-1)}},Slider.prototype.init.prototype=Slider.prototype,jQuery.fn.slider=function(config){return new Slider(this,config)},Slider});
//# sourceMappingURL=slider.min.js.map