!function(root,factory){"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?module.exports=factory():"undefined"==typeof jQuery?console.error("Error:","jQuery is needed to run Slider!"):root.Slider=factory(root)}(this,function(root){var Slider=function(selector,config){return new Slider.prototype.init(selector,config)};return Slider.isIE=function(ver){var b=document.createElement("b");return b.innerHTML="<!--[if IE "+ver+"]><i></i><![endif]-->",1===b.getElementsByTagName("i").length},Slider.lockScroll=function(){$("body").css({overflow:"hidden"})},Slider.unlockScroll=function(){$("body").css({overflow:"auto"})},Slider.prototype={init:function(selector,config){var s=this,$slider=s.slider=$(selector);s.length=$slider.find(".slide").length,s.activeIndex=0,s.autoplayIndex=0,s.autoplaySlides,s.translateX=Slider.isIE(8)?!1:!0,s.touchstartX=0,s.classNames={slide:"slide",wrap:"slides",outer:"slider-wrap",prevSlide:"slide-prev",nextSlide:"slide-next"},s.name="slider",s.config={hasDotNav:!0,hasArrowNav:!0,autoplay:!0,autoplayInterval:4e3,aspectRatio:1.6,animationTime:500,swipeThresholdWidth:.2,style:"flat",infinite:!0};for(option in config)"style"!==option||(console.log(typeof config[option]),-1!==["flat","cubic"].indexOf(config[option]))?s.config[option]=config[option]:console.error("Style undefined, default style will be applied");s.buildDom(),s.autoplay(),$(window).resize(function(){s.setSliderStyle(s)}),$slider[0].addEventListener("touchstart",function(e){s.handleTouch(e,s)}),$slider[0].addEventListener("touchmove",function(e){s.handleTouch(e,s)}),$slider[0].addEventListener("touchend",function(e){s.handleTouch(e,s)})},handleTouch:function(e,context){var touches=e.changedTouches,x=touches[0].pageX,s=(touches[0].pageY,context);s.slider;if("touchstart"===e.type&&(s.touchstartX=x),"touchend"===e.type){var dist=x-s.touchstartX;dist>s.width*s.config.swipeThresholdWidth?0===s.activeIndex?s.slideTo(s.activeIndex):s.slideToPrev():dist<-s.width*s.config.swipeThresholdWidth?s.activeIndex===s.length-1?s.slideTo(s.activeIndex):s.slideToNext():s.slideTo(s.activeIndex),s.touchstartX=0}if("touchmove"===e.type)for(var i=0;i<s.length;i++){var left=(i-s.activeIndex)*s.width+(x-s.touchstartX);s.setSlidePosition(i,left,!1)}},buildDom:function(){var s=this,$slider=s.slider;if($slider.addClass(s.classNames.outer+" "+s.name+"-"+s.config.style).append("<div class='"+s.classNames.wrap+"'></div>").find("."+s.classNames.wrap).append($slider.find("."+s.classNames.slide)).find("."+s.classNames.slide).eq(s.activeIndex).addClass("active"),s.setSliderStyle(s),s.config.hasDotNav){$slider.append("<nav class='dot-nav'><ul></ul></nav>"),$dotNav=s.dotNav=$slider.find(".dot-nav");for(var i=0;i<s.length;i++)$dotNav.find("ul").append("<li><a href='#'></a></li>");$dotNav.on("click","li a",function(){var index=$(this).parent().index();return s.slideTo(index),clearInterval(s.autoplaySlides),!1}),$dotNav.find("li").eq(s.activeIndex).addClass("active")}s.config.hasArrowNav&&$slider.append("<nav class='arrow-nav'><ul><li class='slider-nav-prev'></li><li class='slider-nav-next'></li></ul></nav>").on("click",".slider-nav-next",function(){s.slideToNext(),clearInterval(s.autoplaySlides)}).on("click",".slider-nav-prev",function(){s.slideToPrev(),clearInterval(s.autoplaySlides)})},setSliderStyle:function(context){var s=context,$slider=s.slider,$slides=$slider.find(".slide");s.width=$slider.width(),s.height=s.width/s.config.aspectRatio,s._setSlidesPosition(s.activeIndex),$slider.find(".slides .slide,.slides").width(s.width).height(s.height),$slides.removeClass(s.classNames.prevSlide).eq(s.activeIndex-1).addClass(s.classNames.prevSlide),$slides.removeClass(s.classNames.nextSlide).eq(s.activeIndex+1).addClass(s.classNames.nextSlide)},autoplay:function(){var s=this;s.config.autoplay&&(s.autoplaySlides=setInterval(function(){s.slideTo(s.autoplayIndex),s.autoplayIndex===s.length-1?s.autoplayIndex=0:s.autoplayIndex++},s.config.autoplayInterval))},setSlidePosition:function(index,left,isAnimated){var transition,s=this,$slider=s.slider;transition=isAnimated===!0?"all "+s.config.animationTime+"ms":"all 0ms","flat"===s.config.style&&(s.translateX?$slider.find(".slides .slide").eq(index).css({transform:"translateX("+left+"px)",transition:transition}):$slider.find(".slides .slide").eq(index).css({left:left,transition:transition})),"cubic"===s.config.style&&(s.activeIndex===index?$slider.find(".slides .slide").eq(index).css({transform:"translateX("+left+"px) scale(1.7,1.7)",transition:transition}):$slider.find(".slides .slide").eq(index).css({transform:"translateX("+left+"px) scale(1,1)",transition:transition}))},slideTo:function(index){var s=this,$slider=s.slider,$slides=$slider.find(".slides .slide");index>s.length-1?index=0:0>index&&(index=s.length-1),s.activeIndex=index,$slides.removeClass("active").eq(index).addClass("active"),$slides.removeClass(s.classNames.prevSlide).eq(index-1).addClass(s.classNames.prevSlide),$slides.removeClass(s.classNames.nextSlide).eq(index+1).addClass(s.classNames.nextSlide),s.config.hasDotNav&&$slider.find(".dot-nav li").removeClass("active").eq(index).addClass("active"),s._setSlidesPosition(index)},slideToNext:function(){var s=this;s.slideTo(s.activeIndex+1)},slideToPrev:function(){var s=this;s.slideTo(s.activeIndex-1)},_setSlidesPosition:function(activeIndex){var k,left,s=this;if(s.config.infinite)for(var i=0;i<s.length;i++)left=(i-1)*s.width,k=activeIndex+i-1,k>s.length-1&&(k-=s.length),s.setSlidePosition(k,left,!0);else for(var i=0;i<s.length;i++)left=(i-activeIndex)*s.width,s.setSlidePosition(i,left,!0)}},Slider.prototype.init.prototype=Slider.prototype,jQuery.fn.slider=function(config){return new Slider(this,config)},Slider});
//# sourceMappingURL=slider.min.js.map